{"title":"dbXplorer - ASH Monitoring","description":"`SQLSTAT` and `ACTIVE SESSION HISTORY` are invaluable for comprehensive performance analysis in Oracle Database. While `SQLSTAT` focuses on SQL execution metrics, `ACTIVE SESSION HISTORY` provides session-level activity insights, together offering a holistic view of database performance and opportunities for optimization.","widgets":[{"id":610735410519088,"definition":{"type":"image","url":"https://raw.githubusercontent.com/itunified/itunfied-logos/main/itunified-and-oracle.svg","sizing":"scale-down","margin":"md","has_background":false,"has_border":false,"vertical_align":"center","horizontal_align":"left"},"layout":{"x":0,"y":0,"width":12,"height":1}},{"id":2238531487066478,"definition":{"title":"SQLSTAT","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":535981857739430,"definition":{"title":"change: elsapsed_time - a day before","title_size":"16","title_align":"left","type":"change","requests":[{"increase_good":false,"order_by":"change","change_type":"relative","order_dir":"desc","response_format":"scalar","formulas":[{"formula":"day_before(query1)"},{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"max:dbxplorer.oracle.database.awr.dba_hist_sqlstat.elapsed_time_delta{*} by {cluster_name,instance_name}","aggregator":"avg"}],"show_present":false}]},"layout":{"x":0,"y":0,"width":3,"height":2}},{"id":4253510069675884,"definition":{"title":"change: elapsed time - a hour before","title_size":"16","title_align":"left","type":"change","requests":[{"increase_good":false,"order_by":"change","change_type":"relative","order_dir":"desc","response_format":"scalar","formulas":[{"formula":"hour_before(query1)"},{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"max:dbxplorer.oracle.database.awr.dba_hist_sqlstat.elapsed_time_delta{*} by {cluster_name,instance_name}","aggregator":"avg"}],"show_present":false}]},"layout":{"x":3,"y":0,"width":3,"height":2}},{"id":4991941960999176,"definition":{"title":"change: elapsed time - a week before","title_size":"16","title_align":"left","type":"change","requests":[{"increase_good":false,"order_by":"change","change_type":"relative","order_dir":"desc","response_format":"scalar","formulas":[{"formula":"week_before(query1)","number_format":{"unit":{"type":"canonical_unit","unit_name":"microsecond"}}},{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"max:dbxplorer.oracle.database.awr.dba_hist_sqlstat.elapsed_time_delta{*} by {cluster_name,instance_name}","aggregator":"avg"}],"show_present":false}]},"layout":{"x":6,"y":0,"width":3,"height":2}},{"id":7539564356216258,"definition":{"title":"change: elsapsed time - 4 weeks before","title_size":"16","title_align":"left","type":"change","requests":[{"increase_good":false,"order_by":"change","change_type":"relative","order_dir":"desc","response_format":"scalar","formulas":[{"formula":"month_before(query1)"},{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"max:dbxplorer.oracle.database.awr.dba_hist_sqlstat.elapsed_time_delta{*} by {cluster_name,instance_name}","aggregator":"avg"}],"show_present":false}]},"layout":{"x":9,"y":0,"width":3,"height":2}},{"id":523971523652752,"definition":{"title":"sqlstat: overview ","title_size":"16","title_align":"left","type":"query_table","requests":[{"queries":[{"data_source":"metrics","name":"query2","query":"avg:dbxplorer.oracle.database.awr.dba_hist_sqlstat.elapsed_time_delta{$db.statement.sql_id,$db.cluster_name, $db.instance_name,$snap_id,$module,$action} by {cluster_name,host_name,instance_name,pdb_name,sql_id,plan_hash_value}","aggregator":"avg"},{"data_source":"metrics","name":"query5","query":"avg:dbxplorer.oracle.database.awr.dba_hist_sqlstat.executions_delta{$db.statement.sql_id,$db.cluster_name,$db.instance_name,$snap_id,$module,$action} by {cluster_name,host_name,instance_name,pdb_name,sql_id,plan_hash_value}","aggregator":"avg"},{"data_source":"metrics","name":"query3","query":"avg:dbxplorer.oracle.database.awr.dba_hist_sqlstat.cpu_time_delta{$db.statement.sql_id,$db.cluster_name,$db.instance_name,$snap_id,$module,$action} by {cluster_name,host_name,instance_name,pdb_name,sql_id,plan_hash_value}","aggregator":"avg"},{"data_source":"metrics","name":"query4","query":"avg:dbxplorer.oracle.database.awr.dba_hist_sqlstat.physical_read_bytes_delta{$db.statement.sql_id,$db.cluster_name,$db.instance_name,$snap_id,$module,$action} by {cluster_name,host_name,instance_name,pdb_name,sql_id,plan_hash_value}","aggregator":"avg"},{"data_source":"metrics","name":"query6","query":"avg:dbxplorer.oracle.database.awr.dba_hist_sqlstat.physical_write_bytes_delta{$db.statement.sql_id,$db.cluster_name,$db.instance_name,$snap_id,$module,$action} by {cluster_name,host_name,instance_name,pdb_name,sql_id,plan_hash_value}","aggregator":"avg"},{"data_source":"metrics","name":"query7","query":"avg:dbxplorer.oracle.database.awr.dba_hist_sqlstat.io_interconnect_bytes_delta{$db.statement.sql_id,$db.cluster_name,$db.instance_name,$snap_id,$module,$action} by {cluster_name,host_name,instance_name,pdb_name,sql_id,plan_hash_value}","aggregator":"avg"},{"data_source":"metrics","name":"query8","query":"avg:dbxplorer.oracle.database.awr.dba_hist_sqlstat.iowait_delta{$db.statement.sql_id,$db.cluster_name,$db.instance_name,$snap_id,$module,$action} by {cluster_name,host_name,instance_name,pdb_name,sql_id,plan_hash_value}","aggregator":"avg"},{"data_source":"metrics","name":"query9","query":"avg:dbxplorer.oracle.database.awr.dba_hist_sqlstat.rows_processed_delta{$db.statement.sql_id,$db.cluster_name,$db.instance_name,$snap_id,$module,$action} by {cluster_name,host_name,instance_name,pdb_name,sql_id,plan_hash_value}","aggregator":"avg"},{"data_source":"metrics","name":"query10","query":"avg:dbxplorer.oracle.database.awr.dba_hist_sqlstat.optimizer_cost{$db.statement.sql_id,$db.cluster_name,$db.instance_name,$snap_id,$module,$action} by {cluster_name,host_name,instance_name,pdb_name,sql_id,plan_hash_value}","aggregator":"avg"}],"response_format":"scalar","sort":{"count":500,"order_by":[{"type":"formula","index":0,"order":"desc"}]},"formulas":[{"cell_display_mode":"trend","alias":"elapsed time","number_format":{"unit":{"type":"canonical_unit","unit_name":"microsecond"}},"formula":"query2"},{"cell_display_mode":"trend","alias":"executions","formula":"query5"},{"cell_display_mode":"trend","alias":"cpu time","number_format":{"unit":{"type":"canonical_unit","unit_name":"microsecond"}},"formula":"query3"},{"cell_display_mode":"bar","alias":"physical reads","number_format":{"unit":{"type":"canonical_unit","unit_name":"byte"}},"formula":"query4"},{"cell_display_mode":"bar","alias":"physical writes","number_format":{"unit":{"type":"canonical_unit","unit_name":"byte"}},"formula":"query6"},{"cell_display_mode":"bar","alias":"interconnect io","number_format":{"unit":{"type":"canonical_unit","unit_name":"byte"}},"formula":"query7"},{"cell_display_mode":"bar","alias":"io wait","number_format":{"unit":{"type":"canonical_unit","unit_name":"microsecond"}},"formula":"query8"},{"cell_display_mode":"bar","alias":"rows processed","number_format":{"unit":{"type":"canonical_unit","unit_name":"row"}},"formula":"query9"},{"cell_display_mode":"bar","alias":"optimizer cost","number_format":{"unit":{"type":"canonical_unit"}},"formula":"query10"}]}],"has_search_bar":"auto","custom_links":[{"override_label":"containers","is_hidden":true},{"override_label":"hosts","is_hidden":true},{"override_label":"traces","link":"/apm/traces?query=@db.sql_id%3A{{sql_id.value}}%20AND%20parent_id%3A0%20AND%20@host.name%3A{{host_name.value}}%20AND%20@db.unique_name%3A{{instance_name.value}}&start={{timestamp_start}}&end={{timestamp_end}}&paused=true&metricQuery=true&historicalData=true","is_hidden":false},{"override_label":"profiles","is_hidden":true},{"override_label":"logs","link":"/logs?live=false&from_ts={{timestamp_start}}&to_ts={{timestamp_end}}&query=@logger.name%3Aio.dbxplorer.agent.metrics.oracle.Awr.SqlPlan%20-{{snap_id}}%20@dbx.oracledb.{{cluster_name}}%20@db.instance%3A{{instance_name.value}}%20@dbx.oracledb.sql.{{sql_id}}","is_hidden":true}]},"layout":{"x":0,"y":2,"width":12,"height":4}},{"id":8408641064934466,"definition":{"title":"avg: elapsed time","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"elapsed time ","number_format":{"unit":{"type":"canonical_unit","unit_name":"microsecond"}},"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.dba_hist_sqlstat.elapsed_time_delta{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,program,module,sql_id}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"sqrt"}},"layout":{"x":0,"y":6,"width":4,"height":2}},{"id":2274525833237402,"definition":{"title":"avg: executions","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"executions","formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.dba_hist_sqlstat.executions_delta{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,program,module,sql_id}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"sqrt"}},"layout":{"x":4,"y":6,"width":4,"height":2}},{"id":3714034131248090,"definition":{"title":"abg: buffer gets","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"buffer gets","formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.dba_hist_sqlstat.buffer_gets_delta{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,program,module,sql_id}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"sqrt"}},"layout":{"x":8,"y":6,"width":4,"height":2}},{"id":5669699641540464,"definition":{"title":"avg: cpu time","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"cpu time ","number_format":{"unit":{"type":"canonical_unit","unit_name":"microsecond"}},"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.dba_hist_sqlstat.cpu_time_delta{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,program,module,sql_id}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"sqrt"}},"layout":{"x":0,"y":8,"width":4,"height":2}},{"id":3685596958314634,"definition":{"title":"avg: physical read bytes","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"physical read bytes","number_format":{"unit":{"type":"custom_unit_label","label":"bytes"}},"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.dba_hist_sqlstat.physical_read_bytes_delta{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,program,module,sql_id}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"sqrt"}},"layout":{"x":4,"y":8,"width":4,"height":2}},{"id":3128314114534754,"definition":{"title":"avg: physical write bytes","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"physical write bytes","number_format":{"unit":{"type":"custom_unit_label","label":"bytes"}},"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.dba_hist_sqlstat.physical_write_bytes_delta{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,program,module,sql_id}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"sqrt"}},"layout":{"x":8,"y":8,"width":4,"height":2}},{"id":8579321680041256,"definition":{"title":"avg: rows processed","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"rows processed","formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.dba_hist_sqlstat.rows_processed_delta{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,program,module,sql_id}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"sqrt"}},"layout":{"x":0,"y":10,"width":4,"height":2}},{"id":3236488613332978,"definition":{"title":"avg: px executions","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"px executions","formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.dba_hist_sqlstat.px_servers_execs_delta{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,program,module,sql_id}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"sqrt"}},"layout":{"x":4,"y":10,"width":4,"height":2}},{"id":5692689390091348,"definition":{"title":"avg: sorts","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"sorts","formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.dba_hist_sqlstat.sorts_delta{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,program,module,sql_id}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"sqrt"}},"layout":{"x":8,"y":10,"width":4,"height":2}},{"id":145852725395578,"definition":{"title":"avg: interconect io bytes","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"interconnect io bytes","number_format":{"unit":{"type":"custom_unit_label","label":"bytes"}},"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.dba_hist_sqlstat.io_interconnect_bytes_delta{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,program,module,sql_id}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"sqrt"}},"layout":{"x":0,"y":12,"width":4,"height":2}}]},"layout":{"x":0,"y":1,"width":12,"height":15,"is_column_break":true}},{"id":7646423963385130,"definition":{"type":"note","content":"# Guide to Using SQLSTAT and ACTIVE SESSION HISTORY\n\n## Overview\nOracle Database's Automatic Workload Repository (AWR) provides various views for performance analysis, among which `DBA_HIST_SQLSTAT` and `DBA_HIST_ACTIVE_SESS_HISTORY` are key. This guide outlines how to use these views effectively for diagnosing and optimizing database performance.\n\n## SQLSTAT: SQL Performance Analysis\n\n### What It Is\n`SQLSTAT` offers historical performance statistics for SQL statements executed in the database, aggregating key metrics over time.\n\n### Key Metrics\n- Elapsed time\n- CPU time\n- Number of executions\n- Disk reads\n- Buffer gets\n\n### How to Use\n- **SQL Performance Tuning**: Identify and analyze slow or resource-intensive SQL statements. Observe how performance metrics change over time to assess the impact of optimizations.\n- **Trend Analysis**: Monitor the performance trends of critical SQL statements, especially after system changes or during different workload periods.\n\n## ACTIVE SESSION HISTORY: Session Activity Analysis\n\n### What It Is\nThis view captures detailed records of active session activity, sampling every second to provide insights into wait events, session states, and more.\n\n### Key Metrics\n- Wait events\n- Session activity\n- User and system CPU time\n\n### How to Use\n- **Diagnosing Performance Issues**: Analyze session-level details to understand the cause of performance bottlenecks, such as resource contention or long wait times.\n- **Historical Analysis**: Examine what was happening in the database at specific times, especially during periods of high load or unusual activity.\n\n## Conclusion\n`SQLSTAT` and `ACTIVE SESSION HISTORY` are invaluable for comprehensive performance analysis in Oracle Database. While `SQLSTAT` focuses on SQL execution metrics, `ACTIVE SESSION HISTORY` provides session-level activity insights, together offering a holistic view of database performance and opportunities for optimization.","background_color":"yellow","font_size":"14","text_align":"left","vertical_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom","has_padding":true},"layout":{"x":0,"y":0,"width":12,"height":1}},{"id":7300253026730946,"definition":{"title":"","title_size":"16","title_align":"left","type":"alert_graph","alert_id":"143002313","viz_type":"timeseries"},"layout":{"x":0,"y":1,"width":3,"height":3}},{"id":4983390222093420,"definition":{"title":"","title_size":"16","title_align":"left","type":"alert_graph","alert_id":"142830572","viz_type":"timeseries"},"layout":{"x":3,"y":1,"width":3,"height":3}},{"id":1669945665332816,"definition":{"title":"","title_size":"16","title_align":"left","type":"alert_graph","alert_id":"142785033","viz_type":"timeseries"},"layout":{"x":6,"y":1,"width":3,"height":3}},{"id":6452922233034616,"definition":{"title":"","type":"manage_status","display_format":"list","color_preference":"background","hide_zero_counts":true,"show_status":true,"last_triggered_format":"relative","query":"dbxplorer ASH","sort":"name,asc","count":50,"start":0,"summary_type":"monitors","show_priority":false,"show_last_triggered":false},"layout":{"x":9,"y":1,"width":3,"height":3}},{"id":4586769318547214,"definition":{"title":"Active Session History","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":7337990485978948,"definition":{"title":"Anomaly detection for SQL_ID","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"microsecond"}},"formula":"query2"},{"number_format":{"unit":{"type":"canonical_unit","unit_name":"microsecond"}},"formula":"anomalies(query1, 'basic', 6)"}],"queries":[{"data_source":"metrics","name":"query2","query":"avg:dbxplorer.oracle.database.awr.ash.tm_delta_db_time{$db.statement.sql_id,$db.cluster_name,$db.instance_name} by {cluster_name,instance_name}"},{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.ash.tm_delta_db_time{$db.statement.sql_id,$db.cluster_name,$db.instance_name} by {cluster_name,instance_name}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":0,"width":12,"height":2}},{"id":3256082675083020,"definition":{"title":"avg: db time","title_size":"16","title_align":"left","requests":[{"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.ash.tm_delta_db_time{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,session_type,program,module,action,sql_id,username}","aggregator":"sum"}],"response_format":"scalar","style":{"palette":"datadog16"},"formulas":[{"formula":"query1","number_format":{"unit":{"type":"canonical_unit","unit_name":"microsecond"}}}],"sort":{"count":500,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"type":"sunburst","legend":{"type":"automatic"}},"layout":{"x":0,"y":2,"width":2,"height":2}},{"id":4311007597901444,"definition":{"title":"avg: cpu time ","title_size":"16","title_align":"left","requests":[{"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.ash.tm_delta_cpu_time{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,session_type,program,module,action,sql_id,username}","aggregator":"sum"}],"response_format":"scalar","style":{"palette":"datadog16"},"formulas":[{"formula":"query1","number_format":{"unit":{"type":"canonical_unit","unit_name":"microsecond"}}}],"sort":{"count":500,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"type":"sunburst","legend":{"type":"automatic"}},"layout":{"x":2,"y":2,"width":2,"height":2}},{"id":6622933517891990,"definition":{"title":"avg: read io","title_size":"16","title_align":"left","requests":[{"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.ash.delta_read_io_bytes{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,session_type,program,module,action,sql_id,username}","aggregator":"sum"}],"response_format":"scalar","style":{"palette":"datadog16"},"formulas":[{"formula":"query1"}],"sort":{"count":500,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"type":"sunburst","legend":{"type":"automatic"}},"layout":{"x":4,"y":2,"width":2,"height":2}},{"id":2768214084080046,"definition":{"title":"avg: write io","title_size":"16","title_align":"left","requests":[{"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.ash.delta_write_io_bytes{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,session_type,program,module,action,sql_id,username}","aggregator":"sum"}],"response_format":"scalar","style":{"palette":"datadog16"},"formulas":[{"formula":"query1"}],"sort":{"count":500,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"type":"sunburst","legend":{"type":"automatic"}},"layout":{"x":6,"y":2,"width":2,"height":2}},{"id":1295134325947190,"definition":{"title":"avg: pga allocated","title_size":"16","title_align":"left","requests":[{"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.ash.pga_allocated_in_bytes{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,session_type,program,module,action,sql_id,username}","aggregator":"sum"}],"response_format":"scalar","style":{"palette":"datadog16"},"formulas":[{"formula":"query1"}],"sort":{"count":500,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"type":"sunburst","legend":{"type":"automatic"}},"layout":{"x":8,"y":2,"width":2,"height":2}},{"id":382780499507622,"definition":{"title":"avg: temp space allocated","title_size":"16","title_align":"left","requests":[{"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.ash.temp_space_allocated_in_bytes{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,session_type,program,module,action,sql_id,username}","aggregator":"sum"}],"response_format":"scalar","style":{"palette":"datadog16"},"formulas":[{"formula":"query1"}],"sort":{"count":500,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"type":"sunburst","legend":{"type":"automatic"}},"layout":{"x":10,"y":2,"width":2,"height":2}},{"id":7978582790911936,"definition":{"title":"active session history","title_size":"16","title_align":"left","type":"query_table","requests":[{"queries":[{"data_source":"metrics","name":"query2","query":"sum:dbxplorer.oracle.database.awr.ash.tm_delta_cpu_time{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,instance_name,snap_id,module,action,username,sql_id}","aggregator":"avg"},{"data_source":"metrics","name":"query3","query":"sum:dbxplorer.oracle.database.awr.ash.tm_delta_db_time{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,instance_name,snap_id,module,action,username,sql_id}","aggregator":"avg"}],"response_format":"scalar","sort":{"count":500,"order_by":[{"type":"formula","index":0,"order":"desc"}]},"formulas":[{"cell_display_mode":"bar","alias":"cpu time","formula":"throughput(query2)","number_format":{"unit":{"type":"canonical_unit","unit_name":"microsecond"}}},{"cell_display_mode":"bar","alias":"db time","formula":"throughput(query3)","number_format":{"unit":{"type":"canonical_unit","unit_name":"microsecond"}}}]}],"has_search_bar":"auto","custom_links":[{"override_label":"logs","link":"/logs?live=false&from_ts={{timestamp_start}}&to_ts={{timestamp_end}}&query=@logger_name%3Aio.dbxplorer.agent.metrics.oracle.Awr.SqlPlan%20@{{snap_id}}%20@{{cluster_name}}%20@{{instance_name}}%20@{{sql_id}}","is_hidden":false}]},"layout":{"x":0,"y":4,"width":12,"height":2}},{"id":933989951281878,"definition":{"title":"avg. db time","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"DB TIME","formula":"throughput(query1)","number_format":{"unit":{"type":"canonical_unit","unit_name":"microsecond"}}}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.ash.tm_delta_db_time{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,program,module}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":0,"y":6,"width":4,"height":2}},{"id":412366331697026,"definition":{"title":"avg: cpu time","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"CPU TIME","formula":"query1","number_format":{"unit":{"type":"canonical_unit","unit_name":"microsecond"}}}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.ash.tm_delta_cpu_time{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,instance_name,program,module,action,sql_id}"}],"response_format":"timeseries","style":{"palette":"semantic","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":4,"y":6,"width":4,"height":2}},{"id":6603196826557270,"definition":{"title":"avg: temp space allocated","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"temp space allocated","formula":"throughput(query1)"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.ash.temp_space_allocated_in_bytes{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,program,module}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":8,"y":6,"width":4,"height":2}},{"id":9001782321761902,"definition":{"title":"avg: write io","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"write io","formula":"throughput(query1)"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.ash.delta_write_io_bytes{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,program,module}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":0,"y":8,"width":4,"height":2}},{"id":4530513637306994,"definition":{"title":"avg: read io","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"read io","formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.ash.delta_read_io_bytes{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,instance_name,program,module,action,sql_id}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":4,"y":8,"width":4,"height":2}},{"id":3310241244206928,"definition":{"title":"avg: pga allocated","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"pga allocated","formula":"throughput(query1)"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.ash.pga_allocated_in_bytes{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,program,module}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":8,"y":8,"width":4,"height":2}},{"id":5113248671818478,"definition":{"title":"avg: interconnect traffic","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"interconnect trafic","formula":"throughput(query1)"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:dbxplorer.oracle.database.awr.ash.delta_interconnect_io_bytes{$db.cluster_name,$db.instance_name,$snap_id,$program,$module,$db.statement.sql_id,$action} by {cluster_name,program,module}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":0,"y":10,"width":4,"height":2}}]},"layout":{"x":0,"y":20,"width":12,"height":13}}],"template_variables":[{"name":"db.cluster_name","prefix":"cluster_name","available_values":[],"default":"*"},{"name":"db.instance_name","prefix":"instance_name","available_values":[],"default":"*"},{"name":"snap_id","prefix":"snap_id","available_values":[],"default":"*"},{"name":"program","prefix":"program","available_values":[],"default":"*"},{"name":"module","prefix":"module","available_values":[],"default":"*"},{"name":"action","prefix":"action","available_values":[],"default":"*"},{"name":"db.statement.sql_id","prefix":"sql_id","available_values":[],"default":"*"}],"layout_type":"ordered","notify_list":[],"reflow_type":"fixed"}